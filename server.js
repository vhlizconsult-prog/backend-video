import express from 'express'; import helmet from 'helmet'; import cors from 'cors'; import morgan from 'morgan'; import 'dotenv/config'; import { authRouter } from './routes/auth.js'; import { videosRouter } from './routes/videos.js'; import { commentsRouter } from './routes/comments.js'; import { searchRouter } from './routes/search.js'; import { storageRouter } from './routes/storage.js'; import { speechRouter } from './routes/speech.js'; const app = express(); app.use(helmet()); app.use(cors({ origin: true })); app.use(express.json({ limit: '50mb' })); app.use(morgan('dev')); app.get('/health', (_req,res)=>res.json({ok:true})); app.use('/auth', authRouter); app.use('/videos', videosRouter); app.use('/comments', commentsRouter); app.use('/search', searchRouter); app.use('/storage', storageRouter); app.use('/speech', speechRouter); const port = process.env.PORT || 8080; app.listen(port, ()=>console.log('API listening on :' + port));